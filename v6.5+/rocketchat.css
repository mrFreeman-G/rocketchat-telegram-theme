:root {
    --sidebar-folders-width: 85px;
    --sidebar-background-color: #2f343d;

    --ui-padding-left-right: 6px;
    --ui-padding-top: 6px;
    --ui-padding-bottom: 10px;

    --avatar-size: 50px;
    --base-transition: 0.2s ease-in-out;
    /* --base-transition: none; */

    --bg-image-1: url(https://blog.1a23.com/wp-content/uploads/sites/2/2020/02/pattern_03-150x150.png);
    --bg-image-2: url(https://w0.peakpx.com/wallpaper/154/372/HD-wallpaper-telegram-background-whatsapp-creative-android-pattern-texture-abstract.jpg);
    --bg-image-3: url(https://w0.peakpx.com/wallpaper/816/695/HD-wallpaper-whatsapp-cartoons-background-blue-cartoons-green-pink-purple-walpaper-whatsapp.jpg);
    --bg-image-4: url(https://media.istockphoto.com/id/489119262/vector/travel-doodles.jpg?s=1024x1024&w=is&k=20&c=OQ_OMMBLY6GQ6P76r13yjsdeYiDPucOYCBrJ7VNvz4A=);
    --bg-image-5: url(https://media.istockphoto.com/id/1314946682/vector/big-doodle-summer-2.jpg?s=1024x1024&w=is&k=20&c=zZgrajTp_obLlU7adiGTHQCMCPvFuNaqf3r6NXoGwWw=);
    --bg-image-6: url(https://media.istockphoto.com/id/1363065931/vector/food-and-drink-pattern-background.jpg?s=1024x1024&w=is&k=20&c=DGlcRiVqgH96pVsRZquUshFEqZGVTMvgcXawpdm09kE=);
    --bg-image-7: url(https://media.istockphoto.com/id/989733914/vector/workplace-concept-mess-on-the-table-seamless-pattern-messy-desk-hand-drawn-doodle-tic-tac-toe.jpg?s=1024x1024&w=is&k=20&c=i9gjZDoJL33iR_kYISIm3oZ5G91xutyd40E0Jh-iR9s=);
    --bg-image-8: url(https://img.freepik.com/free-vector/hand-drawn-ice-cream-doodle-set-background_1035-20479.jpg?w=900&t=st=1688681920~exp=1688682520~hmac=1ea2190);

    --bg-image-tg-1: url(https://t.me/bg/aHrFIr08CFILAAAAkrBxhl8fIIs?pattern_file=1);
    /* -- styles for tg background */
    --bg-gradient-light-tg: linear-gradient(327deg, #d4b65ff5 -15%, #68b58cf2 50%, #d8f7b2f2 135%);
    --bg-gradient-dark-tg: linear-gradient(327deg, hsl(251deg 29.14% 22.25% / 95%) -10%, hsl(196deg 26.34% 18.21% / 95%) 50%, hsl(276deg 25.14% 38.98%) 145%);
    --bg-gradient-darker-tg: linear-gradient(327deg, hsl(217deg 45% 15% / 97%) -15%, hsl(203deg 22% 14% / 93%) 50%, hsl(258deg 21% 20%) 135%);
    --bg-gradient-main-tg: var(--bg-gradient-light-tg);
    /* /-- styles for tg background */

    --bg-gradient-light-blue: linear-gradient(327deg, hsl(223deg 52% 58% / 94%) -15%, hsl(203deg 34% 56% / 97%) 50%, hsl(250deg 81% 83% / 95%) 135%);
    --bg-gradient-light-azure: linear-gradient(327deg, hsl(195.97deg 71.79% 75.9% / 94%) -15%, hsl(280deg 26.14% 62.69% / 94%) 100%, hsl(279deg 81% 83% / 95%) 135%);
    --bg-gradient-light-green: linear-gradient(327deg, hsl(68deg 52% 58% / 94%) -15%, hsl(148deg 34% 56% / 95%) 50%, hsl(80deg 82% 84% / 95%) 135%);
    --bg-gradient-light-orange: linear-gradient(327deg, hsl(29deg 52% 58% / 95%) -15%, hsl(280deg 34% 56% / 95%) 100%, hsl(279deg 81% 83% / 95%) 135%);
    --bg-gradient-dark-darker: linear-gradient(327deg, hsl(251deg 25% 31% / 94%) -15%, hsl(196deg 26% 21% / 97%) 50%, hsl(276deg 21% 31% / 95%) 135%);

    --bg-gradient-light: var(--bg-gradient-light-green);
    --bg-gradient-dark: var(--bg-gradient-dark-tg);
    --bg-gradient-main: var(--bg-gradient-light);

    --rcx-color-surface-room: var(--bg-gradient-main, var(--rcx-color-surface-room, var(--rcx-color-white, #ffffff))) !important;

    --bg-gradient-thread-light-blue: linear-gradient(327deg, #7b99e5f7 -15%, #d8e7ebfa 50%, #aaa2d0 135%);
		--bg-gradient-thread-light-azure: linear-gradient(327deg, #7b99e5f7 -15%, #d8e7ebfa 50%, #aaa2d0 135%);
    --bg-gradient-thread-light-green: linear-gradient(327deg, #7b99e5f7 -15%, #d8e7ebfa 50%, #aaa2d0 135%);
    --bg-gradient-thread-light-orange: linear-gradient(327deg, #8f9cfffa -45%, #f0bf83f0 75%, #f47687f2 100%);
    --bg-gradient-thread-light: var(--bg-gradient-thread-light-blue);
    --bg-gradient-thread-dark: linear-gradient(327deg, #222d4bf7 -15%, #413645fa 50%, #2d5d6c 135%);
    --bg-gradient-thread-main: var(--bg-gradient-thread-light);

    /* --background-image-full: var(--bg-gradient-main), var(--bg-image-8); */
    /* --background-image-thread-full: var(--bg-gradient-thread-main), var(--bg-image-8); */

    --background-image-full: var(--bg-gradient-main), var(--bg-image-tg-1);
    --background-image-thread-full: var(--bg-gradient-thread-main), var(--bg-image-tg-1);

    /* --metrics-bg-color-light: #3378764a; */
    --metrics-bg-color-light: #10476842;
    --metrics-bg-color-dark: #252a2a54;
    --metrics-bg-color-main: var(--metrics-bg-color-light);

    --message-bg-color-mine-light-orange: #f8e1d5;
    --message-bg-color-mine-light-green: #e3f1d2;
    --message-bg-color-mine-light-blue: #dff3fe;

    --message-bg-color-mine-light: #e3f1d2;
    --message-bg-color-mine-dark: #34597d;
    --message-bg-color-mine-main: var(--message-bg-color-mine-light);

    --message-bg-color-thread-mine-light: aliceblue;
    --message-bg-color-thread-mine-dark: var(--message-bg-color-mine-dark);
    --message-bg-color-thread-mine-main: var(--message-bg-color-thread-mine-light);

    --reaction-mine-bg-color-light: #40a7e3;
    --reaction-mine-bg-color-dark: #2266a9;
    --reaction-mine-bg-color-main: var(--reaction-mine-bg-color-light);

    --mention-bg-color-light: #bbdfe670;
    --mention-bg-color-dark: transparent;
    --mention-bg-color-main: var(--mention-bg-color-light);
    --mention-color-light: #238cf9;
    --mention-color-dark: #49a2e0;
    --mention-color-main: var(--mention-color-light);

    --mention-me-bg-color-light: #e69b9b40;
    --mention-me-bg-color-dark: transparent;
    --mention-me-bg-color-main: var(--mention-me-bg-color-light);
    --mention-me-color-light: #e84e4e;
    --mention-me-color-dark: #e84e4e;
    --mention-me-color-main: var(--mention-me-color-light);

    --quote-bg-color-light: #eee;
    --quote-bg-color-dark: #2c343b;
    --quote-bg-color-main: var(--quote-bg-color-light);
    --quote-border-color-light: #bdbdbd;
    --quote-border-color-dark: #2f3e4c;
    --quote-border-color-main: var(--quote-border-color-light);

    --quote-bg-color-mine-light: #eee;
    --quote-bg-color-mine-dark: #31465a;
    --quote-bg-color-mine-main: var(--quote-bg-color-mine-light);

    --button-bg-color-light: #3394e4;
    --button-bg-color-dark: #335570;
    --button-bg-color-main: var(--button-bg-color-light);

    --link-color-light: #1188cd;
    --link-color-dark: #739EDE;
    --link-color-main: #1188cd;

    --announcement-bg-color-light: #f7f288c2;
    --announcement-bg-color-dark: #3c84adc2;
    --announcement-bg-color-main: var(--announcement-bg-color-light);

    --chat-box-shadow-highlighted-color-light: #3e97b4;
    --chat-box-shadow-highlighted-color-dark: #6ab6db;
    --chat-box-shadow-highlighted-color-main: var(--chat-box-shadow-highlighted-color-light);

    --messages-font-color-light: #2f343d;
    --messages-font-color-dark: #C1C7D0;
    --messages-font-color-main: var(--messages-font-color-light);

    --folder-icon-color: #727a83;
    --folder-icon-color-selected: #4599db;
    --folder-background: #262931;
    --folder-background-selected: #262931;

    --chat-room-header-background-color-light: #fffbf5a6;
    --chat-room-header-background-color-dark: #19181766;
    --chat-room-header-background-color-main: var(--chat-room-header-background-color-light);

    --messages-background-opacity: 100;
    --message-text-size: 0.875rem;

    --default-avatars-size: 45px;
    --extended-avatars-size: 45px;
    --regular-avatars-size: 35px;
    --compact-avatars-size: 20px;


    /* flat theme */
    --message-bg-color-flat-mine-light: #f3fcfe;
    --message-bg-color-flat-mine-dark: #34597d;
    --message-bg-color-flat-mine-main: var(--message-bg-color-flat-mine-light);

    --background-flat-color-light: #f2f0f6;
    --background-flat-color-dark: #21252a;
    --background-flat-color-main: var(--background-flat-color-light);

    --message-border-flat-color-light: #eee;
    --message-border-flat-color-dark: #2a2f3a;
    --message-border-flat-color-main: var(--message-border-flat-color-light);

    --system-message-background-color-flat-light: #00000014;
    --system-message-background-color-flat-dark: #00000014;
    --system-message-background-color-flat-main: var(--system-message-background-color-flat-light);

    --system-message-font-color-flat-light: #7d7d7d;
    --system-message-font-color-flat-dark: #bac1c5;
    --system-message-font-color-flat-main: var(--system-message-font-color-flat-light);

    /* defaults override */
    --rcx-color-surface-light: #262a34;
}

:root.dark-theme {
    --bg-gradient-main: var(--bg-gradient-dark);
    --bg-gradient-thread-main: var(--bg-gradient-thread-dark);
    --metrics-bg-color-main: var(--metrics-bg-color-dark);
    --message-bg-color-mine-main: var(--message-bg-color-mine-dark);
    --message-bg-color-thread-mine-main: var(--message-bg-color-thread-mine-dark);
    --reaction-mine-bg-color-main: var(--reaction-mine-bg-color-dark);
    --mention-bg-color-main: var(--mention-bg-color-dark);
    --mention-me-bg-color-main: var(--mention-me-bg-color-dark);
    --mention-color-main: var(--mention-color-dark);
    --mention-me-color-main: var(--mention-me-color-dark);
    --quote-bg-color-main: var(--quote-bg-color-dark);
    --quote-bg-color-mine-main: var(--quote-bg-color-mine-dark);
    --quote-border-color-main: var(--quote-border-color-dark);
    --button-bg-color-main: var(--button-bg-color-dark);
    --link-color-main: var(--link-color-dark);
    --announcement-bg-color-main: var(--announcement-bg-color-dark);
    --chat-box-shadow-highlighted-color-main: var(--chat-box-shadow-highlighted-color-dark);
    --messages-font-color-main: var(--messages-font-color-dark);
    --chat-room-header-background-color-main: var(--chat-room-header-background-color-dark);

    /* flat theme */
    --background-flat-color-main: var(--background-flat-color-dark);
    --message-border-flat-color-main: var(--message-border-flat-color-dark);
    --system-message-background-color-flat-main: var(--system-message-background-color-flat-dark);
    --system-message-font-color-flat-main: var(--system-message-font-color-flat-dark);
}

html[data-bg="bg-1"] {
    --bg-image-tg-1: url(https://t.me/bg/aHrFIr08CFILAAAAkrBxhl8fIIs?pattern_file=1);
}
html[data-bg="bg-2"] {
    --bg-image-tg-1: var(--bg-image-8);
}
html[data-bg="bg-3"] {
    --bg-image-tg-1: var(--bg-image-7);
}
html[data-bg="bg-4"] {
    --bg-image-tg-1: var(--bg-image-6);
}
html[data-palette-light="palette-green"] {
    --bg-gradient-light: var(--bg-gradient-light-green);
    --message-bg-color-mine-light: var(--message-bg-color-mine-light-green);
    --bg-gradient-thread-light: var(--bg-gradient-thread-light-green);
}
html[data-palette-light="palette-blue"] {
    --bg-gradient-light: var(--bg-gradient-light-blue);
    --message-bg-color-mine-light: var(--message-bg-color-mine-light-blue);
    --bg-gradient-thread-light: var(--bg-gradient-thread-light-blue);
}
html[data-palette-light="palette-azure"] {
    --bg-gradient-light: var(--bg-gradient-light-azure);
    --message-bg-color-mine-light: var(--message-bg-color-mine-light-blue);
    --bg-gradient-thread-light: var(--bg-gradient-thread-light-azure);
}
html[data-palette-light="palette-orange"] {
    --bg-gradient-light: var(--bg-gradient-light-orange);
    --message-bg-color-mine-light: var(--message-bg-color-mine-light-orange);
    --bg-gradient-thread-light: var(--bg-gradient-thread-light-orange);
}
html[data-palette-dark="palette-dark"] {
    --bg-gradient-dark: var(--bg-gradient-dark-tg);
}
html[data-palette-dark="palette-darker"] {
    --bg-gradient-dark: var(--bg-gradient-darker-tg);

}



/*
    ------------------------ GENERAL ------------------------
*/

main.main-content > div[data-qa-rc-room] {
    /* new */
    background-color: transparent !important;
}

/* buttons (general) */
button.rcx-button--primary {
    /* general css */
    border: none;
}
[data-qa-rc-room] button.rcx-button--primary {
    /* buttons in chats */
    background-color: var(--button-bg-color-main);
    padding: 4px 14px;
    max-height: 28px;
    border-radius: 20px;
}
[data-qa-rc-room] button.rcx-button--primary:hover {
    /* buttons in chats */
    background-color: #2876e6;
}
.theme-dark-button {
    /* dark theme buttons */
    padding: 5px 20px !important;
    background-color: #54657c !important;
    border-color: #566482 !important;
}

blockquote {
    padding: 10px;
    margin: 10px 50px 10px 0px;
    border-left: 4px solid #4d5d6657;
}

.rcx-message-body ol, .rcx-message-body ul {
    margin: 4px 0 10px 0 !important;
}

.rc-scrollbars-track {
    /* scroll bar container */
}
.rc-scrollbars-thumb {
    /* scroll thumb */
    cursor: initial !important;
}

.rcx-message.is-formatted-message .rcx-message-header__roles.new-roles-container {
    display: none;
}
.rcx-message.is-formatted-message .rcx-message-header.new-header-container {
    display: none;
}


@keyframes show-up-sticker {
  0% {
    transform: translateY(40px);
    scale: 0.9;
}
100% {
    transform: translateY(0px);
    scale: 1;
  }
}



/*
--------------------------------------------------------------------------------------------
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
                                                                             TELEGRAM THEME
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
--------------------------------------------------------------------------------------------
*/


/* buttons */
html[data-theme=telegram] [data-qa-rc-room] button.rcx-button--primary {
    /* buttons in chats */
    background-color: #90c9f92b !important;
}
html[data-theme=telegram] [data-qa-rc-room] button.rcx-button--primary:hover {
    /* buttons in chats */
    background-color: #2876e6 !important;
}
html[data-theme=telegram] .rcx-box.rcx-box--full.rcx-button--small-square.rcx-button--square.rcx-button--icon:active,
html[data-theme=telegram] .rcx-box.rcx-box--full.rcx-button--small-square.rcx-button--square.rcx-button--icon:hover {
    background-color: #fbfcff5c !important;
    border: none !important;
}
html[data-theme=telegram] .rcx-box.rcx-box--full.rcx-button--small-square.rcx-button--square.rcx-button--icon.rcx-button--icon-pressed {
    background-color: #fbfcff8e !important;
    border: none !important;
}


/* system messages */
html[data-theme=telegram] .rcx-message-system {
    margin: 6px 0 !important;
    max-width: 100%;
}
/* system message > user avatar */
html[data-theme=telegram] .rcx-message-system .rcx-message-container.rcx-message-container--left {
    display: none !important;
}
/* system message > extra items */
html[data-theme=telegram] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:not(:first-child) {
    border: none !important;
    border-radius: 20px;
    margin-top: 10px;
    color: var(--messages-font-color-main);
    background-color: #00000014;
}
/* system message > extra items > inner content */
html[data-theme=telegram] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:not(:first-child) *:not(a) {
    border: none !important;
    color: #f7f7f7;
}
/* system message > message header */
html[data-theme=telegram] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:first-child {
    background-color: #00000014;
    padding: 4px 10px;
    border-radius: 15px;
}
/* system message > message header > inner content */
html[data-theme=telegram] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:first-child * {
    color: #f7f7f7;
}



/*
    ------------------------ CHAT ROOM ------------------------
*/

html[data-theme=telegram] main.main-content {
}

html[data-theme=telegram] div.messages-box {
    /* chat room > messages-box */
    -webkit-mask-image: linear-gradient(0deg, transparent -4%, rgb(0, 0, 0) 1%, rgb(0, 0, 0) 99.3%, transparent 100.5%);
}

/* chat room > header */
html[data-theme=telegram] header.rcx-box.rcx-box--full.rcx-room-header {
    /* backdrop-filter: blur(10px); */  /* bugs on new - applying overflow:hidden */
    box-shadow: 2px 2px 4px #0000001f;
    background-color: var(--chat-room-header-background-color-main);
    max-height: 55px !important;
    border-radius: 20px;
    margin: 8px 15px 0px 15px;
}
html[data-theme=telegram] header.rcx-box.rcx-box--full.rcx-room-header h2 {
    color: #636a6e !important;
}
html[data-theme=telegram] header.rcx-box.rcx-box--full.rcx-room-header > hr {
    display: none !important;
}
html[data-theme=telegram] .messages-box.has-leader > div.wrapper {
    padding-top: initial !important;
}

/* chat room > messages main container + chat input text area */
html[data-theme=telegram] ul.messages-list,
html[data-theme=telegram] footer.rc-message-box.footer {
    width: 100%;
    padding: 0 !important;
}
html[data-theme=telegram] ul.messages-list {
    padding: 10px 8px 20px 8px !important;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    align-content: stretch;
    justify-content: flex-start;
    align-items: center;
}

/* chat room > messages main container > calendar day divider */
html[data-theme=telegram] .rcx-message-divider__bar::after {
    content: none !important;
}
html[data-theme=telegram] .rcx-message-divider__wrapper {
    border-radius: 10px !important;
    padding: 2px 18px;
    font-size: 14px;
    backdrop-filter: blur(4px);
    background-color: #191d2636 !important;
    color: #fff;
}
html[data-theme=telegram] ul.messages-list > div.rcx-message-divider {
    padding: 20px 0px !important;
    flex-direction: column;
}
html[data-theme=telegram] ul.messages-list > div.rcx-message-divider > * {
    position: relative !important;
}

/* chat room > header > room leader block */
html[data-theme=telegram] div.rcx-box.rcx-box--full.room-leader {
    display: none !important;
}



/*
    ------------------------ CHAT ROOM ANNOUNCEMENT ------------------------
*/

/* chat room announcement */
html[data-theme=telegram] .rcx-box.rcx-box--full:has(> div[data-qa="AnnouncementAnnoucementComponent"]) {
    backdrop-filter: blur(10px);
    background-color: var(--announcement-bg-color-main);
    position: absolute;
    top: 4px;
    left: 50%;
    width: 100%;
    z-index: 2;
    max-width: 1200px;
    border-radius: 5px;
    transform: translate(-50%, 0);
    box-shadow: 0px 2px 10px -4px;
    will-change: transform;
}



/*
    ------------------------ MESSAGES ------------------------
*/

html[data-theme=telegram] .rcx-message-container {
    margin: initial;
}

html[data-theme=telegram] div[data-index] .rcx-message-container.rcx-message-container--left {
    /* aside (right sidebar) */
    margin: 0 10px;
}


/* message status (read status icon, useless.) */
html[data-theme=telegram] div.rcx-box.rcx-box--full > i.rcx-icon.rcx-icon--name-check {
    padding: 10px;
    display: none;
}

/* message (general) */
html[data-theme=telegram] .rcx-message {
    padding: 0px 12px !important;
    border-radius: 6px !important;
    margin: 8px 20px 0px 0px !important;
    align-self: flex-start;
}

html[data-theme=telegram] ul.messages-list > .rcx-message {
    /* message */
    max-width: 1024px;
    min-width: 320px;
    transition: var(--base-transition);
}
html[data-theme=telegram] .rcx-message.is-formatted-message .rcx-message-container--left {
    /* message */
    /* remormatted user roles under avatar */
    align-items: center;
}
html[data-theme=telegram] .rcx-message.is-formatted-message .rcx-message-header__roles {
    /* remormatted user roles under avatar */
    display: none;
}
html[data-theme=telegram] .rcx-message.is-formatted-message[data-own=true] .rcx-message-header {
    /* remormatted user own header (name, etc.) */
    display: none;
}
html[data-theme=telegram] .rcx-message.is-formatted-message .rcx-message-header.new-header-container {
    /* remormatted user own header (name, etc.) */
    display: flex;
}
html[data-theme=telegram] .rcx-message.is-formatted-message .rcx-message-header__roles.new-roles-container {
    /* remormatted user roles under avatar */
    display: flex;
    flex-direction: column;
    align-content: center;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: center;
    position: absolute;
    top: calc(var(--avatar-size) + 6px);
}
html[data-theme=telegram] .rcx-message.is-formatted-message .rcx-message-header__roles.new-roles-container:hover {
    z-index: 10;
}
html[data-theme=telegram] .rcx-message.is-formatted-message .rcx-message-header__roles.new-roles-container > span {
    /* remormatted user roles under avatar > single role badge */
    margin: 2px 0;
}













html[data-theme=telegram] ul.messages-list > .rcx-message .rcx-message-header {
    padding: 5px 0px 0px 0px;
    margin: 0;
}



html[data-theme=telegram] ul.thread > li > .rcx-message:before,
html[data-theme=telegram] ul.messages-list > .rcx-message:before {
    /* message body background */
    content: " ";
    position: absolute;
    left: 54px;
    top: 0px;
    width: 40px;
    height: 22px;
    z-index: -1;
    background-color: var(--rcx-color-surface-light);
    box-shadow: 2px 2px 2px 0px #00000014;

    --r: 0px; /* the radius */
    --t: 18px; /* the size of the tail */
    -webkit-mask:
        radial-gradient(var(--t) at var(--_d) 84%,#0000 98%,#000 102%)
        var(--_d)
        0%/calc(100% - var(--r))
        var(--t) no-repeat,
        conic-gradient(at var(--r) var(--r), #000 75%,#0000 0)
        calc(var(--r)/-2) calc(var(--r)/-2) padding-box,
        radial-gradient(50% 50%,#000 98%,#0000 101%)
        0
        0/var(--r)
        var(--r)
        space
        padding-box;

    /* left */
    --_d: 0%;
    border-left: var(--t) solid #0000;
    margin-right: var(--t);
    place-self: start;

}
html[data-theme=telegram] ul.thread > li > .rcx-message:before {
    left: 42px;
}
html[data-theme=telegram] ul.thread > li > .rcx-message.rcx-message--sequential:before,
html[data-theme=telegram] ul.messages-list > .rcx-message.rcx-message--sequential:before {
    /* disable tail in sequential messages */
    content: none !important;
}



html[data-theme=telegram] ul.messages-list > .rcx-message.rcx-message--editing:after {
    content: none !important;
}
html[data-theme=telegram] ul.messages-list > .rcx-message:focus,
html[data-theme=telegram] ul.messages-list > .rcx-message:hover {
    background-color: initial !important;
}

html[data-theme=telegram] .rcx-message.rcx-message--sequential {
    /* message (general) sequential (messages from user in a row) */
    margin-top: 2px !important;
}
html[data-theme=telegram] .rcx-message.rcx-message--sequential > .rcx-message-container {

}
html[data-theme=telegram] .rcx-message.rcx-message--sequential > .rcx-message-container > .rcx-message-body {
    padding-top: 2px !important;
    padding-bottom: 2px !important;
}
html[data-theme=telegram] .rcx-message.rcx-message--sequential ~ .rcx-message.rcx-message:not(.rcx-message--sequential) + .rcx-message.rcx-message--sequential {
    /* first sequential message in a row */
}
html[data-theme=telegram] .rcx-message > div:nth-child(1) {
    /* message > left container (avatar) */
    width: 50px;
}
html[data-theme=telegram] .rcx-message:not(.is-sticker-message, .rcx-message--clickable) > div:nth-child(2) {
    /* message > right container (message) */
    position: relative;
    padding: 8px 18px;
    background-color: var(--rcx-color-surface-light);
    margin-left: 10px;
    border-radius: 22px;
    box-shadow: 2px 2px 2px #22222226;
}
html[data-theme=telegram] div[data-index] .rcx-message:not(.is-sticker-message, .rcx-message--clickable) > div:nth-child(2) {
    /* aside (right) */
    margin-left: initial;
    background-color: initial;
    box-shadow: initial;
}
html[data-theme=telegram] .rcx-message.rcx-message-thread {
    /* message > last message in thread (useless) */
    display: none !important;
    width: 85%;
    padding: 0px 0px 2px 20px !important;
}
html[data-theme=telegram] .rcx-message-body {
    /* message (general) > body */
    color: var(--messages-font-color-main) !important;
}

html[data-theme=telegram] .rcx-box.rcx-box--full:has(> a[download]) {
    /* message > application name/size block (name of file/image/video) */
    margin-top: 18px !important;
    margin-bottom: 5px !important;
    opacity: 50%;
}

html[data-theme=telegram].rcx-box.rcx-box--full:has(> div > picture),
html[data-theme=telegram] .rcx-message-generic-preview:has(> video) {
    /* message > application block (file/image/video) */
    margin-bottom: 15px !important;
    border: initial !important;
    background-color: initial !important;
    max-width: 35vw !important;
}
html[data-theme=telegram] .rcx-message picture {
    /* message > picture */
    border: none !important;
}
html[data-theme=telegram] .rcx-message-generic-preview > video {
    max-height: 400px;
    background: rgb(0 0 0 / 70%);
}

html[data-theme=telegram] .rcx-message > div:nth-child(2) > div:has(.rcx-message-metrics__content-item):has([data-drid]) {
    /* message > thread button (thread/reply) */
    transform: translate(15%, 264%);
    max-height: 22px;
}
html[data-theme=telegram] .rcx-message > div:nth-child(2) > div:has(.rcx-message-metrics__content-item) {
    position: absolute;
    bottom: 0;
    transform: translate(0, 121%);
    border-radius: 20px;
    overflow: hidden;
}
/* message > metrics container (thread button, counter, etc.) */
html[data-theme=telegram] .rcx-message > div:nth-child(2) > div:has(.rcx-message-metrics__content-item) .rcx-message-metrics__content-wrapper * {
    color: #fff;
}
html[data-theme=telegram] .rcx-message:has(.rcx-message-metrics__content-item) {
    /* message with metrics */
    margin-bottom: 32px !important;
}
html[data-theme=telegram] .rcx-message:has(.rcx-message-metrics__content-item):has([data-drid]) {
    /* message with discusstion button */
    margin-bottom: 55px !important;
}
html[data-theme=telegram] .rcx-message .rcx-message-metrics__content-item {
    margin: 0 !important;
    background-color: var(--metrics-bg-color-main);
    backdrop-filter: blur(2px);
    /* padding: 0px 10px; */
    padding: 0px 14px 0px 0;
}
html[data-theme=telegram] .rcx-message-metrics__item[title=Участники],
/* message > metrics container > participants (icon + counter, useless) */
html[data-theme=telegram] .rcx-message-metrics__item[title=Participants] {
    display: none !important;
}
html[data-theme=telegram] .rcx-message-metrics__item:has(.rcx-icon--name-clock) {
    /* message > metrics container > last message datetime (icon + counter, useless) */
    display: none !important;
}

html[data-theme=telegram] .rcx-message-container > .rcx-message-header > div > * {
    /* message > header (author) */
    padding-right: 10px !important;
    color: #888d8f;
    align-self: baseline;
}
html[data-theme=telegram] .rcx-message-container > .rcx-message-body {
    /* message > body */
    padding-top: 6px !important;
    font-size: var(--message-text-size);
}

html[data-theme=telegram] .rcx-message-container.rcx-message-container--left > figure.rcx-avatar {
    /* message > avatar */
    width: var(--avatar-size);
    height: var(--avatar-size);
    border-radius: 50%;
    overflow: hidden;
    box-shadow: 1px 1px 1px 0px #00000040;
    margin-bottom: 1px;
}
html[data-theme=telegram] .rcx-message-container.rcx-message-container--left > figure.rcx-avatar img {
    width: initial;
    height: initial;
}
/* message > username */
html[data-theme=telegram] span.rcx-box.rcx-box--full.rcx-message-header__username {
    display: none;
}
/* message > link's */
html[data-theme=telegram] .rcx-box.rcx-box--full.rcx-message-container a {
    color: var(--link-color-main);
}

html[data-theme=telegram] blockquote.rcx-box.rcx-attachment__details {
    /* blockquote */
    background-color: var(--quote-bg-color-main) !important;
    border: 1px solid var(--quote-border-color-main) !important;
    border-left: 10px solid var(--quote-border-color-main) !important;
    border-radius: 16px !important;
    padding: 6px 8px 2px 10px !important;
    transform: scale(0.9);
}
html[data-theme=telegram] blockquote.rcx-box.rcx-attachment__details * {
    /* all inside blockquote */
    color: #797a7f;
}
html[data-theme=telegram] blockquote.rcx-box.rcx-attachment__details blockquote {
    /* nested blockquote */
    border-left: 4px solid var(--quote-border-color-main) !important;
    border-radius: 14px !important;
    padding: 4px 10px 2px 10px !important;
}
html[data-theme=telegram] blockquote.rcx-box.rcx-attachment__details figure.rcx-avatar {
    /* avatar inside blockquote */
    display: none;
}
html[data-theme=telegram] blockquote.rcx-box.rcx-attachment__details > div:first-child > div {
    margin: 0 auto 0 0 !important;
}
html[data-theme=telegram] div.rcx-message-body code.code-colors {
    /* code block */
    font-size: 12px;
    border: 1px solid #3941452e;
    border-left: 4px dashed #3941452e;
    border-radius: 0px;
}


/*
        message (current user is author).
*/


/* message (current user) */
html[data-theme=telegram] .rcx-message[data-own=true] {
    align-self: flex-end;
    flex-direction: row-reverse;
    margin-right: 0px !important;
    max-width: 900px !important;
}
/* message (current user) > right container */
html[data-theme=telegram] .rcx-message[data-own=true] > div:nth-child(2) {
    padding-right: 14px;
    padding-left: 14px;
    background-color: var(--message-bg-color-mine-main);
    margin-left: 0px;
    margin-right: 13px;
    border-radius: 18px;
}

/* message (current user) > body */
html[data-theme=telegram] .rcx-message[data-own=true] .rcx-message-container > .rcx-message-body {
    padding-top: 4px !important;
}
/* message (current user, sequential) > body */
html[data-theme=telegram] .rcx-message.rcx-message--sequential[data-own=true] .rcx-message-container > .rcx-message-body {
    /* padding-top: 8px !important; */
}
html[data-theme=telegram] .rcx-message[data-own=true] .rcx-message-header__time,
html[data-theme=telegram] .rcx-message[data-own=true] .rcx-message-header__wrapper {
    flex-direction: row-reverse;
    padding: 2px 0 0 0 !important;
}
/* message (current user) > name (useless on current user) */
html[data-theme=telegram] .rcx-message[data-own=true] .rcx-message-header__wrapper .rcx-message-header__name-container {
    display: none;
}


html[data-theme=telegram] ul.thread > li > .rcx-message[data-own=true]:before,
html[data-theme=telegram] ul.messages-list > .rcx-message[data-own=true]:before {

    /* message body background */
    content: " ";
    position: absolute;
    right: 51px;
    left: unset;
    /* top: 4px; */
    width: 32px;
    height: 20px;
    z-index: 1;
    background-color: var(--message-bg-color-mine-main);
    /*border-radius: 30px 30px 30px 30px;*/


    --r: 0px; /* the radius */
    --t: 12px; /* the size of the tail */
    -webkit-mask:
    radial-gradient(var(--t) at var(--_d) 90%,#0000 98%,#000 102%)
      var(--_d) 0%/calc(90% - var(--r)) var(--t) no-repeat,
    conic-gradient(at var(--r) var(--r),#000 75%,#0000 0)
      calc(var(--r)/-2) calc(var(--r)/-2) padding-box,
    radial-gradient(50% 50%,#000 98%,#0000 101%)
      0 0/var(--r) var(--r) space padding-box;

    /* right */
    --_d: 100%;
    border-right: var(--t) solid #0000;
    margin-left: var(--t);
    place-self: end;
}

html[data-theme=telegram] ul.thread > li > .rcx-message[data-own=true]:before {
    left: unset;
    right: 39px;
}
html[data-theme=telegram] ul.messages-list > .rcx-message[data-own=true].rcx-message--sequential:before {
    content: none;
}


/* blockquote (current user blockquote) */
html[data-theme=telegram] .rcs-message[data-own="true"] blockquote.rcx-box.rcx-attachment__details {
    background-color: var(--quote-bg-color-mine-main) !important;
    border: 1px solid var(--quote-border-color-main) !important;
    border-left: 8px solid var(--quote-border-color-main) !important;
}



/*
    ------------------------ MESSAGES > REACTIONS ------------------------
*/

/* message > reaction container (whole block) */
html[data-theme=telegram] .rcx-box.rcx-box--full.rcx-message-block:has(.rcx-message-reactions__container) {
    margin-top: 15px;
}
/* message > reaction container (whole block) - sequential */
html[data-theme=telegram] .rcx-message.rcx-message--sequential .rcx-box.rcx-box--full.rcx-message-block:has(.rcx-message-reactions__container) {
    margin-top: 5px;
    margin-bottom: 8px;
}
/* message > reaction container (single reaction div) */
html[data-theme=telegram] .rcx-message-reactions__reaction {
    border: none !important;
    border-radius: 50px !important;
    padding: 2px 8px !important;
    --reaction-bg-color-dark: #353a43;
    /* background-color: var(--reaction-bg-color-dark); */
}
/* message > reaction (single reaction div) - current user */
html[data-theme=telegram] .rcx-message-reactions__reaction.rcx-message-reactions__reaction--mine {
    background-color: var(--reaction-mine-bg-color-main);
    color: #fff;
}
/* message > reaction (counter) - current user */
html[data-theme=telegram] div.rcx-message-reactions__reaction.rcx-message-reactions__reaction--mine > div.rcx-message-reactions__counter {
    font-weight: bold !important;
}
/* message > reaction (icon) */
html[data-theme=telegram] .rcx-message-reactions__emoji {
    height: 1.4rem !important;
    width: 1.4rem !important;
}



/*
    ------------------------ THREADS ------------------------
*/

/* thread main window (lvl 1) */
html[data-theme=telegram] aside.rcx-box.rcx-box--full.rcx-vertical-bar:has( .rcx-thread-view) {
    border: initial !important;
    background-color: #ffffff00 !important;
}
html[data-theme=telegram] aside.rcx-box.rcx-box--full.rcx-vertical-bar:has( .rcx-thread-view) > div > div {
    border-radius: 24px;
    overflow: hidden;
    margin-left: var(--ui-padding-left-right);
    margin-right: var(--ui-padding-left-right);
    margin-top: 8px;
    margin-bottom: var(--ui-padding-bottom);
    box-shadow: 0px 0px 5px 2px rgba(0, 0, 0, 0.2);
}
/* thread window (lvl 1, wide extended) */
html[data-theme=telegram] div.rcx-box.rcx-box--full.rcx-thread-view.rcx-vertical-bar {
    border-radius: 6px;
}
/* thread window > background */
html[data-theme=telegram] aside.rcx-box .rcx-box.rcx-thread-view.rcx-vertical-bar {
    background-image: var(--background-image-thread-full);
    background-position: bottom;
    background-attachment: fixed;
    background-repeat: repeat;
    background-color: #ffffff !important;
}
/* thread window > header */
html[data-theme=telegram] aside.rcx-box .rcx-box.rcx-thread-view.rcx-vertical-bar h3 {
    background-color: var(--rcx-color-surface-light);
    height: 42px !important;
}
/* thread window (lvl 2) */
html[data-theme=telegram] aside section.rcx-box.rcx-box--full {
    /* padding: 0px 6px !important; */
}
/* thread window (lvl 3) */
html[data-theme=telegram] aside .thread-list {
    /* padding-bottom: 20px !important; */
}
/* thread window (lvl 4) > messages list */
html[data-theme=telegram] ul.thread {
    display: flex;
    flex-direction: column;
    align-content: stretch;
    flex-wrap: wrap;
    align-items: stretch;
    justify-content: flex-start;
    overflow: initial !important;
    padding: 15px;
    transition: var(--base-transition);
}
html[data-theme=telegram] ul.thread > {
    transition: var(--base-transition);
}
/* thread window > message li */
html[data-theme=telegram] ul.thread > li {
    width: max-content;
    max-width: 100%;
}
/* thread window > message li (current user) */
html[data-theme=telegram] ul.thread > li:has([data-own=true]) {
    align-self: end;
}
/* thread window > message */
html[data-theme=telegram] ul.thread div.rcx-message {
    /* background-color: var(--rcx-color-surface-light); */
    /* box-shadow: 2px 2px 2px 0px #00000014; */
    margin: 8px 0 0 0 !important;
    padding: 0px !important;
}
html[data-theme=telegram] ul.thread div.rcx-message.rcx-message--sequential {
    margin: 3px 0 0 0 !important;
}
html[data-theme=telegram] ul.thread div.rcx-message:hover {
    background: none !important;
}
/* thread window > message > avatar */
html[data-theme=telegram] ul.thread div.rcx-message > div:nth-child(1) {
    padding-top: 2px;
}
html[data-theme=telegram] ul.thread div.rcx-message > div:nth-child(2) {
    padding: 12px 18px;
}
html[data-theme=telegram] ul.thread div.rcx-message.rcx-message--sequential > div:nth-child(2) {
    padding: 4px 16px !important;
}
html[data-theme=telegram] ul.thread div.rcx-message[data-own=true] > div:nth-child(2) {
    padding: 5px 18px;
}



/*
    ------------------------ MESSAGES > POLLS ------------------------
*/

html[data-theme=telegram] .rcx-message .rcx-message-block--width-fixed.rcx-message-block {
    /* whole poll block */
}
html[data-theme=telegram] .rcx-message .rcx-message-block--width-fixed.rcx-message-block .rcx-grid__wrapper {
    /* block header of options & header text block of poll */
    margin-block-end: initial !important;
    margin-top: 10px;
}
html[data-theme=telegram] .rcx-message .rcx-message-block--width-fixed.rcx-message-block > div:first-child {
    /* header text block of poll */
    margin-top: 20px;
}
html[data-theme=telegram] .rcx-message .rcx-message-block--width-fixed.rcx-message-block .rcx-css-1r8kd3o {
    /* header text block of poll */
    margin-block-end: 0px !important;
}
html[data-theme=telegram] .rcx-message .rcx-message-block--width-fixed.rcx-message-block .rcx-css-ld0nzd {
    /* options text & poll header text */
    font-weight: 500 !important;
}

html[data-theme=telegram] .rcx-message:not(.is-sticker-message, .rcx-message--clickable):has(.rcx-message-block--width-fixed.rcx-message-block):before {
    /* message > right container (message) */
    content: none;
}
html[data-theme=telegram] .rcx-message:not(.is-sticker-message, .rcx-message--clickable) > div:nth-child(2):has(.rcx-message-block--width-fixed.rcx-message-block) {
    /* message > right container (message) */
    padding: 20px;
    background-color: var(--rcx-color-surface-light);
    /* background: linear-gradient(175deg, #3dd5ff -2%, #dfd9e9 3%, #ffffff 40%); */
}




/*
    ------------------------ CHAT'S FOOTER / TOOLBAR ------------------------
*/

/* chat input text area > footer */
html[data-theme=telegram] footer.rc-message-box.footer {
    padding: 0 20px 0 20px !important;
    /* max-width: 700px; */
    margin: 0 auto;
}
html[data-theme=telegram] footer.rc-message-box.footer > div:has(blockquote) {
    margin: initial !important;
}
html[data-theme=telegram] footer.rc-message-box.footer > div[role="group"] {
    border-radius: 20px !important;  /* new */
    margin-bottom: var(--ui-padding-bottom) !important;  /* new */
    /* border-radius: 0 !important; */
    border: none !important;
    overflow: auto !important;
    outline: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    box-shadow: none !important;
    resize: none !important;
}
/* thread > chat input text area > footer */
html[data-theme=telegram] aside footer.rc-message-box.footer {
    max-width: 100%;
    border-top: initial !important;
    border-radius: initial !important;
    padding: 0px 10px !important;
}
/* chat input text area > toolbar */
html[data-theme=telegram] .rcx-box.rcx-box--full[role=toolbar] {
    background-color: #ffffff00 !important;
}
/* chat input text area > footer > activity block (bottom block, empty) */
html[data-theme=telegram] .rcx-box.rcx-box--full.rc-message-box__activity-wrapper {
    display: none;
}


footer.footer div[role="toolbar"]:has(>button) {
    /* document.querySelectorAll('footer.footer div[role="toolbar"]:has(>button)') */
    /* TODO: stickers window + script autouse */
}
footer.footer div.main-stickers-container {
    /* TODO: stickers window + script autouse */
    display: flex;
    max-height: 350px;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: center;
    background-color: var(--rcx-color-surface-light);
    padding: 10px;
    border: 4px solid white;
    user-select: none;
}
footer.footer div.stickers-container {
    /* TODO: stickers window + script autouse */
    display: flex;
    width: 100%;
    height: 100%;
    flex-direction: row;
    flex-wrap: wrap;
    align-content: flex-start;
    justify-content: space-around;
    align-items: center;
}
footer.footer div.stickers-container span.sticker {
    /* TODO: stickers window + script autouse */
    --size: 5rem;
    width: var(--size);
    height: var(--size);
    background-position: 50%;
    background-repeat: no-repeat;
    background-size: contain;
    display: inline-block;
    font-size: inherit;
    image-rendering: auto;
    line-height: normal;
    margin: 0.15em;
    overflow: hidden;
    position: relative;
    text-indent: 100%;
    vertical-align: middle;
    white-space: nowrap;
    cursor: pointer;
}

footer.footer button.stickers-button {
    background-image: url("/emoji-custom/peepo_pepe-512px-45.gif?_dc=0");
}



/*
    ------------------------ EMOJI ------------------------
*/

/* emoji window */
html[data-theme=telegram] .emoji-picker {
    border-radius: 15px !important;
    bottom: 125px !important;
    top: unset !important;
    left: 50% !important;
    right: 212px !important;
    width: 550px;
    height: 370px;
    transform: translateX(-50%);
}
/* emoji window > emoji filter bar container (category icons) */
html[data-theme=telegram] .rcx-box.filter {
    transform: scale(0.8) !important;
}
/* all emoji list container */
html[data-theme=telegram] .emojis {
    padding: 5px 10px !important;
}
/* emoji category divider (text) */
html[data-theme=telegram] .emoji-list-category {
    color: #73737b !important;
}
/* emoji list container (under every category) */
html[data-theme=telegram] .emoji-list {

}
/* single emoji picker item (lvl 1) */
html[data-theme=telegram] li.emoji-picker-item {
    transform: scale(1.6);
    margin: 6px 12px !important;
}
/* single emoji picker item - on hover */
html[data-theme=telegram] .emoji-picker .emojis .emoji-list li.emoji-picker-item:hover {
    transform: scale(200%);
    background-color: #ddd;
}
/* single emoji (lvl 2) */
html[data-theme=telegram] li.emoji-picker-item > .emoji {

}
/* emoji window > footer container (add custom emoji) */
html[data-theme=telegram] .emoji-footer {

}
/* emoji window > footer container > link (add custom emoji) */
html[data-theme=telegram] .emoji-footer > a.add-custom {
    font-size: 12px !important;
    color: cornflowerblue !important;
    padding: 2px !important;
}
/* emoji window > footer container > copyright text (useless) */
html[data-theme=telegram] .emoji-footer > div {
    display: none !important;
}



/*
    ------------------------ USER'S MENTIONS ------------------------
*/

/* user's mentions */
span.mention-link.mention-link--user {
    /* padding: 0px 6px 2px !important; */
    background-color: var(--mention-bg-color-main);
    color: var(--mention-color-main);
    white-space: nowrap;
}
/* current user mention */
span.mention-link.mention-link--user.mention-link--me {
    background-color: var(--mention-me-bg-color-main);
    color: #e84e4e;
}



/*
    ------------------------ ICONS ------------------------
*/

/* icons > notifications bell */
i.rcx-icon--name-bell {
    color: coral !important;
}
i.rcx-icon--name-bell-off {
    color: #c1c1c1 !important;
}



/*
    ------------------------ POLL'S ------------------------
*/

/* polls - bars */
.rcx-box.rcx-box--full.rcx-message-block--width-fixed.rcx-message-block span code.code-colors.inline {
    background: -webkit-linear-gradient(327deg, #389ffcf7 -15%, #bd7eed 50%, #953bed 135%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -0.05rem;
}

.poll-votes-info-block {
    display: none;
}
.poll-votes-info-block.show {
    display: initial;
}
.poll-show-votes-info-button {
    padding-top: 15px;
    display: flex;
    justify-content: center;
    user-select: none;
}



/*
    ------------------------ STICKERS ------------------------
*/

html[data-theme=telegram] ul.thread > li > .rcx-message.is-sticker-message:before,
html[data-theme=telegram] ul.thread > li > .rcx-message[data-own=true].is-sticker-message:before,
html[data-theme=telegram] ul.messages-list > .rcx-message.is-sticker-message:before,
html[data-theme=telegram] ul.messages-list > .rcx-message[data-own=true].is-sticker-message:before {
    /* removing bg from sticker messages */
    content: none;
}
html[data-theme=telegram] ul.thread div.rcx-message.is-sticker-message {
    /* removing bg from sticker messages in thread */
    background-color: transparent;
    box-shadow: none;
    margin: none !important;
    border: none;
}
html[data-theme=telegram] ul.messages-list > .rcx-message.is-sticker-message > div:nth-child(2),
html[data-theme=telegram] ul.thread div.rcx-message[data-own=true].is-sticker-message,
html[data-theme=telegram] ul.thread div.rcx-message[data-own=true].is-sticker-message > div:nth-child(2) {
    /* removing bg from sticker messages in thread */
    background-color: transparent;
    box-shadow: none;
    border: none;
}
html[data-theme=telegram] .rcx-message.is-sticker-message .rcx-message-body > div {
    text-align: left;
}
html[data-theme=telegram] .rcx-message[data-own=true].is-sticker-message .rcx-message-body > div {
    text-align: end;
}
html[data-theme=telegram] .rcx-message.is-sticker-message .rcx-message-header {
    /* hide message header on sticker */
    display: none;
}

/* sticker (emoji) in message */
span.rcx-message__emoji.emoji.rcx-message__emoji--big[style*="background-image"] {
    width: 240px !important;
    height: 240px !important;

    animation-name: show-up-sticker;
    animation-duration: 0.4s;
    animation-iteration-count: 1;
}



/*
    ------------------------ SIDEBAR ------------------------
*/


.sidebar-folder-container .rcx-sidebar-item:hover .rcx-sidebar-item__menu-wrapper,
.sidebar-folder-container .rcx-sidebar-item:focus-within .rcx-sidebar-item__menu-wrapper {
    /* disable hover action chats menu inside sidebar folders */
    display: none;
}

/* sidebar - top bar - avatar button */
.rcx-button--small-square {
    overflow: initial !important;
}

/* sidebar main container */
div#sidebar-region {
    max-width: 400px !important;
    /* transition: var(--base-transition); */
}

/* sidebar > items padding's */
div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--extended a.rcx-sidebar-item {
    /* padding: 6px 10px !important; */
}
div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--medium a.rcx-sidebar-item {
    padding: 4px 15px !important;
}
div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--condensed a.rcx-sidebar-item {
    padding: 3px 15px !important;
}

/* sidebar > type of chat room (system icon) */
.rc-box.rcx-box--full.rcx-sidebar-item__icon {
    display: none;
}

/* sidebar > chat name */
.rc-box.rcx-box--full.rcx-sidebar-item__container.rcx-sidebar-item__content {
    padding-left: 6px;
}
/* sidebar > items blocks (chats) > div's (chat name, message) */
.rc-box.rcx-box--full.rcx-sidebar-item__container.rcx-sidebar-item__content > div {
    padding: 1px 1px;
}
/* sidebar > chat name > unreaded chat (highlighted) */
.rcx-sidebar-item__title.rcx-sidebar-item--highlighted {
    font-size: bold !important;
}

/* sidebar > avatars */
#sidebar-region figure.rcx-avatar {
    --size: var(--default-avatars-size);
    width: var(--size);
    height: var(--size);
    border-radius: 50%;
    overflow: hidden;
}
div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--extended figure.rcx-avatar {
    /* extended */
    --size: var(--extended-avatars-size);
    width: var(--size);
    height: var(--size);
    overflow: hidden;
}
div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--medium figure.rcx-avatar {
    /* regular */
    --size: var(--regular-avatars-size);
    width: var(--size);
    height: var(--size);
    overflow: hidden;
}
div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--condensed figure.rcx-avatar {
    /* compact */
    --size: var(--compact-avatars-size);
    width: var(--size);
    height: var(--size);
    overflow: hidden;
}
div#sidebar-region figure.rcx-avatar[data-username] {
    /* user avatar */
    width: 35px !important;
    height: 35px !important;
}

/* sidebar > items blocks (chats) */
.rcx-sidebar-item--highlighted * {
    font-weight: bold !important;
}
.rc-box.rcx-box--full.rcx-sidebar-item__subtitle * {
    font-weight: initial !important;
}
.rc-box.rcx-box--full.rcx-sidebar-item__subtitle {
    font-size: 14px !important;
}

/* sidebar > items blocks (chats) > highlighted */
a:has(.rcx-sidebar-item--highlighted) {
    box-shadow: -50px 0px 150px -135px var(--chat-box-shadow-highlighted-color-main) inset;
    border-radius: unset;
}

/* sidebar > items blocks (chats) > messages (extended view) */
span.message-author {
    color: #40a9c9;
    font-size: 13px;
    font-weight: 500;
}
span.message-body-text {
    color: #868686;
    font-size: 13px;
}

/* sidebar > items blocks (chats) > badge's (default counter) */
div.rcx-sidebar-item__badge {
    transform: scale(1.3);
    display: inherit !important;
}
/* sidebar > items blocks (chats extended) > message timestamp */
.rcx-sidebar-item__container .rcx-sidebar-item__time {
    color: #60676e;
    font-weight: 500;
}


/*
    ------------------------ SIDEBAR TELEGRAM ------------------------
*/

html[data-theme=telegram] #rocket-chat {
    background: none;
}


html[data-theme=telegram] #rocket-chat::before {
    content: ' ';
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background-color: white;
    background-image: var(--background-image-full);
    background-position: bottom;
    background-attachment: fixed;
    background-repeat: repeat;
    background-size: 100%, 35em;  /* freezing scroll bugs */
    will-change: transform;
    z-index: 0;
}


html[data-theme=telegram] div#sidebar-region {
    /* padding-left: var(--ui-padding-left-right); */
    /* padding-right: var(--ui-padding-left-right); */
    /* padding-top: var(--ui-padding-top); */
    /* padding-bottom: var(--ui-padding-bottom); */
    background: none !important;
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar {
    background: none !important;
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar,
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar > div {
    transition: var(--base-transition);
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar hr.rcx-sidebar--divider {
    border: none !important;
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar > div.rcx-sidebar-topbar {
    background: var(--sidebar-background-color);
    /* border-radius: 24px; */
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar > div:not(.rcx-sidebar-topbar):not(.rcx-sidebar-footer) {
    /* nth-child -> stutters bug */
    background: var(--sidebar-background-color);
    /* margin-top: 6px; */
    /* border-radius: 24px 24px 0 0; */
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar > div.rcx-sidebar-footer {
    background: var(--sidebar-background-color);
    /* border-radius: 0 0 24px 24px; */
}
html[data-theme=telegram] main header.rcx-room-header {
    margin-left:2px;
    margin-right: var(--ui-padding-left-right);
    margin-top: 11px;
    margin-bottom: 10px;
    /* border-radius: 15px; */
}

html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--extended div[data-index]:has(a.rcx-sidebar-item) {
    padding: 2px 6px;
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--extended a.rcx-sidebar-item {
    border-radius: 15px;
    margin: initial;
    /* padding: 4px 6px; */  /* для схлопнутого сайдбара */
}
html[data-theme=telegram] .rcx-sidebar-item--selected, .rcx-sidebar-item:active {
    /* TODO: light + dark */
    /* background-color: #232730; */
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--medium a.rcx-sidebar-item {
    border-radius: 15px;
    margin: 4px;
}
html[data-theme=telegram] div#sidebar-region nav.rcx-sidebar--main.rcx-sidebar.rcx-sidebar--condensed a.rcx-sidebar-item {
    border-radius: 15px;
    margin: 2px 4px;
}




/*
    ------------------------ SIDEBAR FOLDERS ------------------------
*/

div.sidebar-folders {
    width: var(--sidebar-folders-width);
    height: 100%;
    padding: 10px 4px;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: center;
    overflow-y: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}
div.sidebar-folders::-webkit-scrollbar {
    /* scrollbar of folders buttons container */
    display: none !important;
}

div.sidebar-folder-container {
    display: none;
    position: relative;
    width: 100%;
    /* height: 100%; */
    /* margin-top: 3px; */
    overflow: scroll;
    scrollbar-width: none;
    -ms-overflow-style: none;
}
div.sidebar-folder-container::-webkit-scrollbar {
    /* scrollbar of folder container */
    display: none !important;
}
div.sidebar-folder {
    width: 100%;
    height: 64px;
    cursor: pointer;
    position: relative;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: space-evenly;
    align-items: center;
    padding: 5px 0;
    border-radius: 12px;
}
div.sidebar-folder.folder-selected {
    background-color: var(--folder-background-selected);
}
div.sidebar-folder:hover {
    /* background-color: var(--folder-background-selected); */
}
div.sidebar-folder p {
    margin: auto;
    color: var(--folder-icon-color);
    user-select: none;
    text-align: center;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    width: 100%;
    font-family: var(--rcx-font-family-sans,Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Helvetica Neue","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Meiryo UI",Arial,sans-serif);
    font-size: 14px;
    font-weight: 600;
    font-variant: all-petite-caps;
}
div.sidebar-folder.folder-selected p {
    color: var(--folder-icon-color-selected);
}
div.sidebar-folder .folder-svg-icon {
    --folder-icon-size: 38px;
    color: var(--folder-icon-color);
    fill: currentColor;
    width: var(--folder-icon-size);
    height: var(--folder-icon-size);
}
div.sidebar-folder.folder-selected .folder-svg-icon {
    color: var(--folder-icon-color-selected);
}
div.sidebar-folder .folder-svg-icon path {
    fill: currentColor;
}
span.unread-chats-counter {
    position: absolute;
    width: 24px;
    height: 24px;
    /* background-color: dodgerblue; */
    background-color: var(--folder-icon-color-selected);
    top: 0;
    right: 0;
    transform: translate(-5px, 5px);
    border-radius: 50%;
    font-size: 10px;
    color: aliceblue;
    display: none;
    /* display: flex; */
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-family: unset;
    letter-spacing: -1px;
    border: 3px solid #31363f;
}
div.sidebar-folder.general-folder span.unread-chats-counter {
    background-color: var(--folder-icon-color);
}
div.sidebar-folder.general-folder.folder-selected span.unread-chats-counter {
    background-color: var(--folder-icon-color-selected);
}
div.sidebar-folder.folder-selected span.unread-chats-counter {
        border: 3px solid var(--folder-background-selected);
}



/*
    ------------------------ CHAT LOADER ------------------------
*/

.chat-area-loader {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: var(--rcx-color-surface-light);
    background-position: bottom;
    background-repeat: repeat;
    z-index: 100;
    transition: ease .3s;
}
html[data-theme=telegram] .chat-area-loader {
    background-image: var(--background-image-full);
    background-position: bottom;
    background-attachment: fixed;
    background-repeat: repeat;
}
.chat-loader {
    color: #348adb;
    font-size: 7px;
    position: absolute;
    text-indent: -9999em;
    animation-delay: -0.16s;
    top: 50%;
    left: 50%;
    transform: translate(0%, -150%);
}
html[data-theme=telegram] .chat-loader {
    color: #FFF;
}
.chat-loader, .chat-loader:before, .chat-loader:after {
    border-radius: 50%;
    width: 2.5em;
    height: 2.5em;
    animation-fill-mode: both;
    animation: bblFadInOut 1.3s infinite ease-in-out;
}
.chat-loader:before,
.chat-loader:after {
    content: '';
    position: absolute;
    top: 0;
}
.chat-loader:before {
    left: -3.5em;
    animation-delay: -0.32s;
}
.chat-loader:after {
    left: 3.5em;
}

@keyframes bblFadInOut {
    0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em }
    40% { box-shadow: 0 2.5em 0 0 }
}

.fade-in-anim {
    animation: fadeInAnimation ease .5s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
}
.fade-out-anim {
    animation: fadeInAnimation ease .5s;
    animation-iteration-count: 1;
    animation-fill-mode: backwards;
}
@keyframes fadeInAnimation {
    0% { opacity: 0 }
    100% { opacity: 1 }
}


/*
    ------------------------ POPUP's ------------------------
*/

/* Popup container - can be anything you want */
.custom-popup {
    position: relative;
    overflow: initial !important;
}
/* The actual popup */
.custom-popup .popup-window {
    display: none;
    cursor: initial;
    background-color: #373b44e3;
    color: #fff;
    backdrop-filter: blur(4px);
    text-align: center;
    padding: 12px 18px;
    position: absolute;
    z-index: 10;
    left: 110%;
    /* display: flex; */
    flex-direction: column;
    flex-wrap: wrap;
    /* align-items: center; */
    /* align-content: center; */
    border-radius: 6px;
    box-shadow: 2px 2px 6px #1b1b1b;
}
/* Toggle this class - hide and show the popup */
.custom-popup.show .popup-window {
    display: flex;
}



/*
    ------------------------ ADD FOLDER BUTTON / MANAGE FOLDER BUTTONS ------------------------
*/

.add-folder-input {
    padding: 4px 8px;
    margin-bottom: 10px;
    border-radius: 10px;
    background-color: aliceblue;
}
p.add-folder-button {
    font-size: 1.1rem;
    font-family: system-ui;
    /* color: #9ea2a8 !important; */
}

.manage-folder-buttons {
    display: flex;
    padding: 10px 0;
}

.manage-folder-buttons button {
    display: flex;
    align-items: center;
    justify-content: center;
    white-space: break-spaces;
    max-height: 20px;
    width: 100%;
    margin: 2px 12px;
    background-color: #3c414f !important;
    font-size: 15px;
    color: #7c7e83;
}
.manage-folder-buttons button svg {
    width: 100%;
    height: 100%;
}



/*
    ------------------------ THEME SETTINGS POPUP ------------------------
*/

[folder-label-area="settings"] form {
    padding: 15px 20px;
    margin: auto;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    align-items: stretch;
    justify-content: flex-start;
}
[folder-label-area="settings"] form h2 {
    text-align: center;
    font-size: 18px;
    margin-bottom: 14px;
    text-shadow: 1px 4px black;
}
[folder-label-area="settings"] form div {
    text-align: center;
}
[folder-label-area="settings"] form fieldset {
    margin-bottom: 20px;
    padding: 10px 15px;
    border: 3px solid #8bc1e108;
    border-radius: 16px;
}
[folder-label-area="settings"] form fieldset div {
    display: flex;
    align-items: center;
    padding: 4px 0;
}
[folder-label-area="settings"] form legend {
    font-weight: bold;
    color: slategray;
    padding: 0 10px;
}
[folder-label-area="settings"] form label {
    font-weight: normal;
}
[folder-label-area="settings"] form input {
    margin-right: 6px;
    text-align: center;
}
[folder-label-area="settings"] form input[type="file"] {
    background-color: #fff;
    margin: 5px 0;
    border-radius: 4px;
    border: none;
    padding: 4px;
}
[folder-label-area="settings"] form .big-radio {
    background-color: #8bdcff17;
    border: 1px solid #4e4e4e29;
    border-radius: 10px;
    padding: 8px !important;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    flex-wrap: nowrap;
    flex-direction: row;
}
[folder-label-area="settings"] form .big-radio:has([disabled]) {
    background-color: #363e494d;
}
[folder-label-area="settings"] form div:has([disabled]) label {
    color: #85858540 !important;
}



/*
--------------------------------------------------------------------------------------------
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
                                                                                 FLAT THEME
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
--------------------------------------------------------------------------------------------
*/



/*
    ------------------------ GENERAL ------------------------
*/

/* system messages */
html[data-theme=flat] .rcx-message-system {
    margin: 6px 0 !important;
    max-width: 100%;
}
/* system message > user avatar */
html[data-theme=flat] .rcx-message-system .rcx-message-container.rcx-message-container--left {
    display: none !important;
}
/* system message > extra items */
html[data-theme=flat] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:not(:first-child) {
    border: none !important;
    border-radius: 20px;
    margin-top: 5px;
    color: var(--messages-font-color-main);
    background-color: var(--system-message-background-color-flat-main);
}
/* system message > extra items > inner content */
html[data-theme=flat] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:not(:first-child) *:not(a) {
    border: none !important;
    color: var(--system-message-font-color-flat-main);
}
/* system message > message header */
html[data-theme=flat] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:first-child {
    background-color: var(--system-message-background-color-flat-main);
    padding: 4px 12px;
    border-radius: 15px;
}
/* system message > message header > inner content */
html[data-theme=flat] .rcx-message-system .rcx-message-system__container .rcx-message-system__block:first-child * {
    color: var(--system-message-font-color-flat-main);
}



/*
    ------------------------ CHAT ROOM ------------------------
*/

html[data-theme=flat] main.main-content {
    background-color: var(--background-flat-color-main) !important;
    background-position: bottom;
    background-attachment: fixed;
    background-repeat: repeat;
}

/* chat room > header */
html[data-theme=flat] header.rcx-box.rcx-box--full.rcx-room-header {
    /* backdrop-filter: blur(10px);  bugs on new */
    box-shadow: 2px 2px 4px #0000001f;
}
html[data-theme=flat] header.rcx-box.rcx-box--full.rcx-room-header > hr {
    display: none !important;
}
html[data-theme=flat] .messages-box.has-leader > div.wrapper {
    padding-top: initial !important;
}

/* chat room > messages main container + chat input text area */
html[data-theme=flat] ul.messages-list,
html[data-theme=flat] footer.rc-message-box.footer {
    width: 100%;
    padding: 0 !important;
}
html[data-theme=flat] ul.messages-list {
    padding: 10px 10px 20px 0px !important;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    align-content: stretch;
    justify-content: flex-start;
    align-items: center;
}

/* chat room > messages main container > calendar day divider */
html[data-theme=flat] .rcx-message-divider__bar::after {
    content: none !important;
}
html[data-theme=flat] .rcx-message-divider__wrapper {
    border-radius: 10px !important;
    padding: 2px 18px;
    font-size: 14px;
    backdrop-filter: blur(4px);
    background-color: #191d2638 !important;
    color: #fff;
}
html[data-theme=flat] ul.messages-list > div.rcx-message-divider {
    margin: 20px !important;
}

/* chat room > header > room leader block */
html[data-theme=flat] div.rcx-box.rcx-box--full.room-leader {
    display: none !important;
}


/*
    ------------------------ MESSAGES ------------------------
*/

/* message status (read status icon, useless.) */
html[data-theme=flat] div.rcx-box.rcx-box--full > i.rcx-icon.rcx-icon--name-check {
    padding: 10px;
    display: none;
}

/* message (general) */
html[data-theme=flat] .rcx-message {
    padding: 10px 14px !important;
    border-radius: 20px !important;
    margin: 3px 0px !important;
    align-self: flex-start;
}

/* message */
html[data-theme=flat] ul.messages-list > .rcx-message {
    width: 98%;
}
/* message */
html[data-theme=flat] ul.messages-list > .rcx-message:before {
    /* message body background */
    content: " ";
    position: absolute;
    left: 78px;
    top: -1px;
    width: calc(100% - 80px);
    height: 100%;
    z-index: -1;
    background-color: var(--rcx-color-surface-light);
    border-radius: 0px;
    border: 1px solid var(--message-border-flat-color-main);
}
html[data-theme=flat] ul.messages-list > .rcx-message:focus,
html[data-theme=flat] ul.messages-list > .rcx-message:hover {
    background-color: initial !important;
}

/* message (general) sequential (messages from user in a row) */
html[data-theme=flat] .rcx-message.rcx-message--sequential {
    margin-top: -4px !important;
    padding: 4px 12px !important;
}
html[data-theme=flat] .rcx-message.rcx-message--sequential > .rcx-message-container > .rcx-message-body {
    padding-top: 8px !important;
    padding-bottom: 8px !important;
}
/* message > left container (avatar) */
html[data-theme=flat] .rcx-message > div:nth-child(1) {
    /* width: 50px; */
    padding-left: 50px;
}
/* message > right container (message) */
html[data-theme=flat] .rcx-message > div:nth-child(2) {
    padding-left: 20px !important;
}

/* message > last message in thread */
html[data-theme=flat] .rcx-message.rcx-message-thread {
}
html[data-theme=flat] .rcx-message.rcx-message-thread .rcx-message-thread__row:has( .rcx-message-thread__icon) {
    margin-top: 5px;
    padding-left: 25px;
}
html[data-theme=flat] .rcx-message.rcx-message-thread > div:nth-child(2) {
    padding-left: 50px !important;
}
html[data-theme=flat] ul.messages-list > .rcx-message.rcx-message-thread {
    width: 85%;
    padding: 0px 0px 2px 20px !important;
}
html[data-theme=flat] ul.messages-list > .rcx-message.rcx-message-thread figure.rcx-avatar {
    width: 20px;
    height: 20px;
}
html[data-theme=flat] ul.messages-list > .rcx-message.rcx-message-thread:before {
    display: none !important;
}

/* message (general) > body */
html[data-theme=flat] .rcx-message-body {
    color: var(--messages-font-color-main) !important;
}

/* message > application name/size block (name of file/image/video) */
html[data-theme=flat] .rcx-box.rcx-box--full:has(> a[download]) {
    margin-top: 18px !important;
    margin-bottom: 5px !important;
    opacity: 50%;
}

/* message > application block (file/image/video) */
html[data-theme=flat].rcx-box.rcx-box--full:has(> div > picture),
html[data-theme=flat] .rcx-message-generic-preview:has(> video) {
    margin-bottom: 15px !important;
    border: initial !important;
    background-color: initial !important;
    /* max-width: 40vw !important; */
}
/* message > picture */
html[data-theme=flat] .rcx-message picture {
    border: none !important;
}

/* message > thread button (thread/reply) */
html[data-theme=flat] .rcx-message > div:nth-child(2) > div:has(.rcx-message-metrics__content-item) {
}
/* message > metrics container (thread button, counter, etc.) */
html[data-theme=flat] .rcx-message > div:nth-child(2) > div:has(.rcx-message-metrics__content-item) .rcx-message-metrics__content-wrapper * {
}
html[data-theme=flat] .rcx-message:has(.rcx-message-metrics__content-item) {
}
html[data-theme=flat] .rcx-message .rcx-message-metrics__content-item {
}
/* message > metrics container > participants (icon + counter, useless) */
html[data-theme=flat] .rcx-message-metrics__item[title=Участники],
html[data-theme=flat] .rcx-message-metrics__item[title=Participants] {
    display: none !important;
}

/* message > header (author) */
html[data-theme=flat] .rcx-message-container > .rcx-message-header > div > * {
    padding-right: 10px !important;
    color: #888d8f;
    /* align-self: baseline; */
    /* font-size: small; */
}
/* message > body */
html[data-theme=flat] .rcx-message-container > .rcx-message-body {
    padding-top: 10px !important;
    font-size: var(--message-text-size);
}

/* message > avatar */
html[data-theme=flat] .rcx-message-container.rcx-message-container--left > figure.rcx-avatar {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    overflow: hidden;
}
html[data-theme=flat] .rcx-message-container.rcx-message-container--left > figure.rcx-avatar img {
    width: initial;
    height: initial;
}
/* message > username */
html[data-theme=flat] span.rcx-box.rcx-box--full.rcx-message-header__username {
    display: none;
}
/* message > link's */
html[data-theme=flat] .rcx-box.rcx-box--full.rcx-message-container a {
    color: var(--link-color-main);
}

/* blockquote */
/* html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details {
    background-color: var(--quote-bg-color-main) !important;
    border: 1px solid var(--quote-border-color-main) !important;
    border-left: 8px solid var(--quote-border-color-main) !important;
}
html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details * {
    color: #66676b;
} */

html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details {
    /* blockquote */
    background-color: var(--quote-bg-color-main) !important;
    border: 1px solid var(--quote-border-color-main) !important;
    border-left: 10px solid var(--quote-border-color-main) !important;
    border-radius: 16px !important;
    padding: 6px 8px 2px 10px !important;
    transform: scale(0.93);
}
html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details * {
    /* all inside blockquote */
    color: #66676b;
}
html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details blockquote {

    /* nested blockquote */
    border-left: 4px solid var(--quote-border-color-main) !important;
    border-radius: 14px !important;
    padding: 4px 10px 2px 10px !important;
}
html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details figure.rcx-avatar {
    /* avatar inside blockquote */
    display: none;
}
html[data-theme=flat] blockquote.rcx-box.rcx-attachment__details > div:first-child > div {
    margin: 0 auto 0 0 !important;
}

/*
        message (current user is author).
*/


/* message (current user) > username */
html[data-theme=flat] .rcx-message[data-own=true] .rcx-message-header__name {
    /* color: #2c6dff;
    background: #2c6dff36;
    padding: 20px; */
}

/* message (current user) > body */
html[data-theme=flat] .rcx-message[data-own=true] .rcx-message-container > .rcx-message-body {
}
/* message (current user, sequential) > body */
html[data-theme=flat] .rcx-message.rcx-message--sequential[data-own=true] .rcx-message-container > .rcx-message-body {
    padding-top: 8px !important;
}
/* message (current user) > name (useless on current user) */
html[data-theme=flat] .rcx-message[data-own=true] .rcx-message-header__wrapper .rcx-message-header__name-container {
}
html[data-theme=flat] ul.messages-list > .rcx-message[data-own=true]:before {
    /* message body background */
    /* border-left: 4px solid #617aa0; */
    /* border-right: 4px solid #617aa0; */
}

/* blockquote (current user blockquote) */
html[data-theme=flat] .rcs-message[data-own="true"] blockquote.rcx-box.rcx-attachment__details {
    background-color: var(--quote-bg-color-mine-main) !important;
    border: 1px solid var(--quote-border-color-main) !important;
    border-left: 8px solid var(--quote-border-color-main) !important;
}



/*
    ------------------------ MESSAGES > REACTIONS ------------------------
*/

/* message > reaction container (whole block) */
html[data-theme=flat] .rcx-box.rcx-box--full.rcx-message-block:has(.rcx-message-reactions__container) {
    margin-top: 15px;
}
/* message > reaction container (whole block) - sequential */
html[data-theme=flat] .rcx-message.rcx-message--sequential .rcx-box.rcx-box--full.rcx-message-block:has(.rcx-message-reactions__container) {
    margin-top: 5px;
    margin-bottom: 8px;
}
/* message > reaction container (single reaction div) */
html[data-theme=flat] .rcx-message-reactions__reaction {
    border: none !important;
    border-radius: 50px !important;
    padding: 2px 8px !important;
    --reaction-bg-color-dark: #353a43;
    /* background-color: var(--reaction-bg-color-dark); */
}
/* message > reaction (single reaction div) - current user */
html[data-theme=flat] .rcx-message-reactions__reaction.rcx-message-reactions__reaction--mine {
    background-color: var(--reaction-mine-bg-color-main);
    color: #fff;
}
/* message > reaction (counter) - current user */
html[data-theme=flat] div.rcx-message-reactions__reaction.rcx-message-reactions__reaction--mine > div.rcx-message-reactions__counter {
    font-weight: bold !important;
}
/* message > reaction (icon) */
html[data-theme=flat] .rcx-message-reactions__emoji {
    height: 1.4rem !important;
    width: 1.4rem !important;
}



/*
    ------------------------ THREADS ------------------------
*/

/* thread main window (lvl 1) */
html[data-theme=flat] aside.rcx-box.rcx-box--full.rcx-vertical-bar {
}
/* thread window (lvl 1, wide extended) */
html[data-theme=flat] div.rcx-box.rcx-box--full.rcx-thread-view.rcx-vertical-bar {
    border-radius: 6px;
}
/* thread window > background */
html[data-theme=flat] aside.rcx-box .rcx-box.rcx-thread-view.rcx-vertical-bar {
}
/* thread window > header */
html[data-theme=flat] aside.rcx-box .rcx-box.rcx-thread-view.rcx-vertical-bar h3 {
    background-color: var(--rcx-color-surface-light);
}
/* thread window (lvl 2) */
html[data-theme=flat] aside section.rcx-box.rcx-box--full {
}
/* thread window (lvl 3) */
html[data-theme=flat] aside .thread-list {
    padding-bottom: 20px !important;
}
/* thread window (lvl 4) > messages list */
html[data-theme=flat] ul.thread {
    display: flex;
    flex-direction: column;
    align-content: stretch;
    flex-wrap: nowrap;
    align-items: stretch;
    justify-content: flex-start;
    overflow: hidden;
}
/* thread window > message li */
html[data-theme=flat] ul.thread > li {
}
/* thread window > message li (current user) */
html[data-theme=flat] ul.thread > li:has([data-own=true]) {
}
/* thread window > message */
html[data-theme=flat] ul.thread div.rcx-message {
    margin: -1px !important;
    background-color: var(--rcx-color-surface-light);
    border-radius: 0px !important;
    border: 1px solid var(--message-border-flat-color-main);
}
/* thread window > message (current user) */
html[data-theme=flat] ul.thread div.rcx-message[data-own=true] {
}
/* thread window > message sequential (messages from user in a row) > body */
html[data-theme=flat] ul.thread .rcx-message.rcx-message--sequential > .rcx-message-container > .rcx-message-body {
    padding-top: 8px !important;
    padding-bottom: 8px !important;
}



/*
    ------------------------ CHAT'S FOOTER / TOOLBAR ------------------------
*/

/* chat input text area > footer */
html[data-theme=flat] footer.rc-message-box.footer {
    max-width: 100%;
    box-shadow: 0px -2px 4px #00000012;
}
html[data-theme=flat] footer.rc-message-box.footer > div:has(blockquote) {
    margin: initial !important;
}
html[data-theme=flat] footer.rc-message-box.footer > div[role="group"] {
    border-radius: 0 !important;
    border: none !important;
    overflow: auto !important;
    outline: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    box-shadow: none !important;
    resize: none !important;
}
/* thread > chat input text area > footer > checbox */
html[data-theme=flat] aside footer.rc-message-box.footer div.rcx-field {
    padding: 0 10px;
}
/* thread > chat input text area > footer */
html[data-theme=flat] aside footer.rc-message-box.footer {
    max-width: 100%;
    border-top: initial !important;
    border-radius: initial !important;
}
/* chat input text area > toolbar */
html[data-theme=flat] .rcx-box.rcx-box--full[role=toolbar] {
    background-color: #ffffff00 !important;
}
/* chat input text area > footer > activity block (bottom block, empty) */
html[data-theme=flat] .rcx-box.rcx-box--full.rc-message-box__activity-wrapper {
    display: none;
}



/*
    ------------------------ EMOJI ------------------------
*/

/* emoji window */
html[data-theme=flat] .emoji-picker {
    border-radius: 15px !important;
    bottom: 125px !important;
    top: unset !important;
    left: 50% !important;
    right: 212px !important;
    width: 550px;
    height: 370px;
    transform: translateX(-50%);
}
/* emoji window > emoji filter bar container (category icons) */
html[data-theme=flat] .rcx-box.filter {
    transform: scale(0.8) !important;
}
/* all emoji list container */
html[data-theme=flat] .emojis {
    padding: 5px 10px !important;
}
/* emoji category divider (text) */
html[data-theme=flat] .emoji-list-category {
    color: #73737b !important;
}
/* emoji list container (under every category) */
html[data-theme=flat] .emoji-list {

}
/* single emoji picker item (lvl 1) */
html[data-theme=flat] li.emoji-picker-item {
    transform: scale(1.6);
    margin: 6px 12px !important;
}
/* single emoji picker item - on hover */
html[data-theme=flat] .emoji-picker .emojis .emoji-list li.emoji-picker-item:hover {
    transform: scale(200%);
    background-color: #ddd;
}
/* single emoji (lvl 2) */
html[data-theme=flat] li.emoji-picker-item > .emoji {

}
/* emoji window > footer container (add custom emoji) */
html[data-theme=flat] .emoji-footer {

}
/* emoji window > footer container > link (add custom emoji) */
html[data-theme=flat] .emoji-footer > a.add-custom {
    font-size: 12px !important;
    color: cornflowerblue !important;
    padding: 2px !important;
}
/* emoji window > footer container > copyright text (useless) */
html[data-theme=flat] .emoji-footer > div {
    display: none !important;
}




/*
    ------------------------ STICKERS ------------------------
*/

html[data-theme=flat] ul.thread div.rcx-message.is-sticker-message {
    /* removing bg from sticker messages in thread */
}
html[data-theme=flat] ul.thread div.rcx-message[data-own=true].is-sticker-message {
    /* removing bg from sticker messages in thread */
}
html[data-theme=flat] .rcx-message.is-sticker-message .rcx-message-body > div {
    text-align: left;
}
html[data-theme=flat] .rcx-message.is-sticker-message .rcx-message-header {
    /* hide message header on sticker */
    display: initial;
}
